(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9232:function(e,t,i){Promise.resolve().then(i.bind(i,8367))},8367:function(e,t,i){"use strict";let n;i.r(t),i.d(t,{default:function(){return k}});var r=i(7437);i(5357);var s=i(2265),a=i(2744),o=i.n(a),l=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",style:{width:"36px",height:"36px"},children:(0,r.jsx)("path",{fill:"white",d:"M10,20A10,10,0,1,0,0,10,10,10,0,0,0,10,20ZM11.289,4.3,12.711,5.7l-4.3,4.344L12.7,14.289,11.3,15.711,5.586,10.063Z"})}),h=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",style:{width:"36px",height:"36px"},children:(0,r.jsx)("path",{fill:"white",d:"M10,20A10,10,0,1,0,0,10,10,10,0,0,0,10,20ZM8.711,4.3l5.7,5.766L8.7,15.711,7.3,14.289l4.289-4.242L7.289,5.7Z"})}),c=i(7547),d=i.n(c);let u=e=>({nativePointer:e,pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,id:e.pointerId||-1}),m=(e,t)=>t?Math.sqrt((t.clientX-e.clientX)**2+(t.clientY-e.clientY)**2):0,g=(e,t)=>t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e,p=()=>n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg")),v=()=>p().createSVGMatrix();class f{reset(){this.setTransform({x:0,y:0,scale:1})}onPointerStart(e){if(2===this.currentPointers.length)return;let t=u(e);e.preventDefault(),this.currentPointers.push(t),this.currentPointers.length>1&&(this.isMultiplePointer=!0),this.element.setPointerCapture(e.pointerId),this.element.addEventListener("pointermove",this.onPointerMove),this.element.addEventListener("pointerleave",this.onPointerUp),this.element.addEventListener("pointercancel",this.onPointerCancel),this.element.dispatchEvent(new Event("pinchingStarted",{bubbles:!0}))}onPointerMove(e){let t=[...this.currentPointers],i=u(e),n=this.currentPointers.findIndex(e=>e.id===i.id);if(-1===n)return!1;this.currentPointers[n]=i;let r=this.scale<=1&&1===this.currentPointers.length;return this.pointerDidMove=!0,this._onPointerMove(t,this.currentPointers,r)}onPointerUp(e){let t=u(e),i=this.currentPointers.findIndex(e=>e.id===t.id);if(-1===i)return;this.currentPointers.splice(i,1);let n=!!this.doubleTapTimeout;if(0!==this.currentPointers.length)return;let r=this.element.getBoundingClientRect(),s=Math.abs(this.y);if(n){if(this.scale>1.1)this.setTransform({x:0,y:0,scale:1,animate:!0});else{let e=(r.width-this.imageWidth)/2,i=r.width/this.imageWidth,n=(t.clientX-e)/r.width*i,s=(r.height-this.imageHeight)/2,a=r.height/this.imageHeight,o=(t.clientY-s)/r.height*a,l=this._getImageRect(3),h=-(l.left+(l.width-r.width)*Math.min(Math.max(0,n),1)),c=-(l.top+(l.height-r.height)*Math.min(Math.max(o,0),1)),d=-(2*r.width/2),u=-(2*r.height/2);l.width<r.width&&(h=d),l.height<r.height&&(c=u),this.setTransform({x:h,y:c,scale:3,animate:!0})}}else if(1===this.scale&&(s-30)/100>=1)this.element.dispatchEvent(new Event("close",{bubbles:!0}));else if(this.scale<.5)this.element.dispatchEvent(new Event("close",{bubbles:!0}));else if(this.scale<1.1)this.setTransform({x:0,y:0,scale:1,animate:!0});else if(!0===this.pointerDidMove){let e=this.transformElement.getBoundingClientRect(),t=this._getImageRect(this.scale),i={top:e.top+t.top,left:e.left+t.left,right:e.width+e.left-t.left,bottom:e.height+e.top-t.top},n=this.x,s=this.y;t.width<r.width?n=-((e.width-r.width)/2):i.left>0?n=-t.left:i.right<r.width&&(n=-(t.left+t.width-r.width)),t.height<r.height?s=-((e.height-r.height)/2):i.top>0?s=-t.top:i.bottom<r.height&&(s=-(t.top+t.height-r.height)),this.setTransform({x:n,y:s,animate:!0})}this.scale>1?this.element.style.touchAction="none":this.element.style.touchAction="pan-x",this.isMultiplePointer||this.doubleTapTimeout||(this.doubleTapTimeout=setTimeout(()=>{this.doubleTapTimeout=null},300)),this.isMultiplePointer=!1,this.pointerDidMove=!1,this.element.releasePointerCapture(e.pointerId),this.element.removeEventListener("pointermove",this.onPointerMove),this.element.removeEventListener("pointerleave",this.onPointerUp),this.element.removeEventListener("pointercancel",this.onPointerCancel),this.element.dispatchEvent(new Event("pinchingEnded",{bubbles:!0}))}_getImageRect(e){let t=this.element.getBoundingClientRect(),i=this.imageWidth*e,n=this.imageHeight*e;return{top:(t.height*e-n)/2,left:(t.width*e-i)/2,width:i,height:n}}onPointerCancel(){this.element.removeEventListener("pointermove",this.onPointerMove),this.element.removeEventListener("pointerleave",this.onPointerUp),this.element.removeEventListener("pointercancel",this.onPointerCancel),this.element.dispatchEvent(new Event("pinchingEnded",{bubbles:!0})),this.currentPointers=[],this.setTransform({x:0,y:0,scale:1})}get x(){return this._transform.e}get y(){return this._transform.f}get scale(){return this._transform.a}setTransform(e){let{x:t=this.x,y:i=this.y,scale:n=this.scale,animate:r=!1}=e;if(!(n<.1)&&(n!==this.scale||t!==this.x||i!==this.y)){if(this._transform.e=t,this._transform.f=i,this._transform.d=n,this._transform.a=n,r?this.transformElement.style.setProperty("transition-duration","0.2s"):this.transformElement.style.setProperty("transition-duration","0s"),this.transformElement.style.setProperty("transform","translate(".concat(this.x,"px, ").concat(this.y,"px) scale(").concat(this.scale,") translateZ(1000px)")),1===n){let e=new Event("changeOpacity",{bubbles:!0});e.opacity=Math.min(Math.max(1-(Math.abs(i)-30)/100*.5,.5),1),this.element.dispatchEvent(e)}if(n<1){let e=new Event("changeOpacity",{bubbles:!0});e.opacity=Math.max(n,.5),this.element.dispatchEvent(e)}}}_onPointerMove(e,t,i){let n=this.transformElement.getBoundingClientRect(),r=g(e[0],e[1]),s=g(t[0],t[1]),a=r.clientX-n.left,o=r.clientY-n.top,l=m(e[0],e[1]),h=m(t[0],t[1]),c=i?0:s.clientX-r.clientX,d=s.clientY-r.clientY,u=v().translate(c,d).translate(a,o).translate(this.x,this.y).scale(l?h/l:1).translate(-a,-o).scale(this.scale);this.setTransform({x:u.e,y:u.f,scale:u.a})}constructor(e){var t,i;this.element=e,this.currentPointers=[],this.isMultiplePointer=!1,this.doubleTapTimeout=null,this.naturalWidth=null===(t=e.querySelector("img"))||void 0===t?void 0:t.naturalWidth,this.naturalHeight=null===(i=e.querySelector("img"))||void 0===i?void 0:i.naturalHeight;let n=this.element.getBoundingClientRect(),r=this.naturalWidth/this.naturalHeight;this.imageWidth=Math.round(n.height*r),this.imageHeight=n.height,this.imageWidth>n.width&&(this.imageWidth=n.width,this.imageHeight=Math.round(n.width/r)),this._transform=v(),this.onPointerStart=this.onPointerStart.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.element.addEventListener("pointerdown",this.onPointerStart),this.transformElement=this.element.children[0],this.pointerDidMove=!1}}var w=i(9520),_=i.n(w),x=(0,s.memo)(e=>{let{image:t,active:i}=e,[n,a]=(0,s.useState)(!1),o=(0,s.useRef)(null),l=(0,s.useRef)();(0,s.useEffect)(()=>{var e;o.current&&i&&n&&window.PointerEvent&&(null===(e=window.matchMedia("(pointer: coarse)"))||void 0===e?void 0:e.matches)&&!l.current&&(l.current=new f(o.current))},[o.current,i,n]),(0,s.useEffect)(()=>{l.current&&!i&&l.current.reset()},[i]);let h=(0,s.useCallback)(()=>{l.current&&l.current.reset()},[]);return(0,s.useEffect)(()=>(window.addEventListener("orientationchange",h),()=>{window.removeEventListener("orientationchange",h)}),[h]),(0,r.jsx)("div",{ref:o,className:_().container,children:(0,r.jsx)("div",{className:_().pinchZoom,children:(0,r.jsx)("img",{loading:"lazy",src:t.src,className:_().image,onLoad:()=>a(!0),alt:t.alt})})})});let y=e=>e.preventDefault();var b=e=>{let{index:t=0,images:i,onClose:n,onImageChange:a}=e,[c,u]=(0,s.useState)(t),[m,g]=(0,s.useState)(t),[p,v]=(0,s.useState)(1),[f,w]=(0,s.useState)(!1),_=(0,s.useRef)(!1),b=(0,s.useRef)(i.map(()=>(0,s.createRef)())),E=(0,s.useRef)(null),P=(0,s.useCallback)(()=>{c-1>-1&&g(c-1)},[c,g]),j=(0,s.useCallback)(()=>{c+1<i.length&&g(c+1)},[c,i.length,g]),k=()=>w(!0),L=()=>w(!1),I=e=>v(e.opacity),C=(0,s.useCallback)(()=>n(),[n]);(0,s.useEffect)(()=>{if(!E.current)return;let e=E.current,t=new IntersectionObserver(e=>{_.current||e.forEach(e=>{let{target:t,intersectionRatio:i}=e;if(0!==i){if(1===i){let e=t.dataset.index,i=parseInt(null!=e?e:"",10);g(i),u(i),a(i)}if(i>.55&&i<1){let e=t.dataset.index,i=parseInt(null!=e?e:"",10);g(-1),u(i),a(i)}}})},{root:e,rootMargin:"1px 0px",threshold:[.55,1]});return e.addEventListener("pinchingStarted",k),e.addEventListener("pinchingEnded",L),e.addEventListener("changeOpacity",I),e.addEventListener("close",C),b.current.forEach(e=>{let{current:i}=e;i&&t.observe(i)}),()=>{e.removeEventListener("pinchingStarted",k),e.removeEventListener("pinchingEnded",L),e.removeEventListener("changeOpacity",I),e.removeEventListener("close",C),b.current.forEach(e=>{let{current:i}=e;i&&t.unobserve(i)})}},[C,a]);let S=(0,s.useCallback)(e=>{"ArrowLeft"===e.key?P():"ArrowRight"===e.key?j():"Escape"===e.key&&C()},[C,j,P]),M=(0,s.useCallback)(()=>{_.current=!0;let e=()=>{var t;if(null===(t=b.current)||void 0===t?void 0:t[c].current){let e=b.current[c].current;e&&e.scrollIntoView({block:"nearest",inline:"start"})}_.current=!1,window.removeEventListener("resize",e)};window.addEventListener("resize",e)},[c]);return(0,s.useEffect)(()=>(document.addEventListener("gesturestart",y),document.addEventListener("keydown",S),window.addEventListener("orientationchange",M),()=>{document.removeEventListener("gesturestart",y),document.removeEventListener("keydown",S),window.removeEventListener("orientationchange",M)}),[c,S,M]),(0,s.useEffect)(()=>{var e,t,i;if(!(null===(t=b.current)||void 0===t?void 0:null===(e=t[m])||void 0===e?void 0:e.current))return;let n=null===(i=b.current[m])||void 0===i?void 0:i.current;n&&n.scrollIntoView({block:"nearest",inline:"start"})},[m]),(0,r.jsxs)("div",{className:d().container,style:{backgroundColor:"rgba(45,47,59,".concat(p,")")},children:[(0,r.jsxs)("div",{className:o()(d().interface,{[d().disablePointerEvents]:f}),children:[(0,r.jsxs)("div",{className:d().topBar,children:[(0,r.jsx)("span",{className:d().counter,children:"".concat(c+1," / ").concat(i.length)}),(0,r.jsx)("button",{type:"button",className:d().closeButton,onClick:C,children:"close"})]}),(0,r.jsxs)("div",{className:d().navigationButtons,children:[(0,r.jsx)("div",{className:o()(d().navigationButton,{[d().disable]:c-1==-1,[d().hide]:1===i.length}),onClick:P,children:(0,r.jsx)(l,{})}),(0,r.jsx)("div",{className:o()(d().navigationButton,{[d().disable]:c+1===i.length,[d().hide]:1===i.length}),onClick:j,children:(0,r.jsx)(h,{})})]}),(0,r.jsx)("div",{})]}),(0,r.jsx)("div",{className:d().swipeContainer,ref:E,children:i.map((e,t)=>(0,r.jsx)("div",{className:d().slide,ref:b.current[t],"data-index":t,children:(0,r.jsx)(x,{image:e,active:m===t})},e.src))})]})},E=i(345),P=i.n(E);let j=[{src:"./image02.jpg",alt:"Lake District National Park, Buttermere, https://www.lakedistrict.gov.uk/learning/freephotos"},{src:"./image03.jpg",alt:"Lake District National Park, Buttermere, https://www.lakedistrict.gov.uk/learning/freephotos"},{src:"./image04.jpg",alt:"Lake District National Park, Buttermere, https://www.lakedistrict.gov.uk/learning/freephotos"},{src:"./image05.jpg",alt:"Lake District National Park, Buttermere, https://www.lakedistrict.gov.uk/learning/freephotos"},{src:"./image06.jpg",alt:"Lake District National Park, Buttermere, https://www.lakedistrict.gov.uk/learning/freephotos"}];function k(){let[e,t]=(0,s.useState)(!1),[i,n]=(0,s.useState)(-1);return(0,r.jsx)("main",{className:P().container,children:(0,r.jsxs)("div",{className:P().wrapper,children:[(0,r.jsx)("h1",{children:"Image Gallery"}),(0,r.jsxs)("div",{className:P().buttons,children:[(0,r.jsx)("button",{className:P().button,type:"button",onClick:()=>t(!0),children:"Open Gallery"}),-1!==i&&(0,r.jsxs)("p",{className:P().imageIndex,children:["Last displayed image index: ",i]})]}),e&&(0,r.jsx)(b,{index:0,images:j,onClose:()=>t(!1),onImageChange:e=>n(e)}),(0,r.jsx)("h3",{children:"Highlights:"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Optimized for desktop and mobile (try all the gestures you know from your mobile device)"}),(0,r.jsx)("li",{children:"No external dependencies (small file size)"}),(0,r.jsx)("li",{children:"Uses modern JS/CSS (very performant)"})]}),(0,r.jsx)("h3",{children:"Features:"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"swipe-left/swipe-right to navigate"}),(0,r.jsx)("li",{children:"pinch-zoom"}),(0,r.jsx)("li",{children:"swipe-up/swipe-down to close"}),(0,r.jsx)("li",{children:"pinch-small to close"}),(0,r.jsx)("li",{children:"double-tab to zoom"}),(0,r.jsx)("li",{children:"key navigation"})]}),(0,r.jsxs)("footer",{className:P().footer,children:[(0,r.jsx)("span",{children:"\xa9 2024. Check sourcecode on "}),(0,r.jsx)("a",{href:"https://github.com/aronwoost/image-gallery",target:"blank",children:"Github"}),(0,r.jsx)("span",{children:". "}),(0,r.jsx)("a",{href:"https://www.lakedistrict.gov.uk/learning/freephotos",target:"blank",children:"Image Copyright"}),(0,r.jsx)("span",{children:"."})]})]})})}},5357:function(){},7547:function(e){e.exports={container:"ImageGallery_container__Zzs8W",fadeInOpacity:"ImageGallery_fadeInOpacity__d4O_8",interface:"ImageGallery_interface__5ky37",disablePointerEvents:"ImageGallery_disablePointerEvents__71KLZ",topBar:"ImageGallery_topBar__v_uFk",counter:"ImageGallery_counter__CpkhY",closeButton:"ImageGallery_closeButton__Ax49A",navigationButtons:"ImageGallery_navigationButtons__bM0qS",navigationButton:"ImageGallery_navigationButton__f_Tjj",disable:"ImageGallery_disable__acADe",hide:"ImageGallery_hide__UsV0S",swipeContainer:"ImageGallery_swipeContainer__CRzun",slide:"ImageGallery_slide__7IHBq"}},9520:function(e){e.exports={container:"Slide_container__N3exd",pinchZoom:"Slide_pinchZoom__0iSHV",image:"Slide_image__A2bxI"}},345:function(e){e.exports={container:"page_container__aoG4z",wrapper:"page_wrapper__xDBJh",buttons:"page_buttons__qe66w",button:"page_button__vnlhW",imageIndex:"page_imageIndex__G_uEU",footer:"page_footer__sHKi3"}},622:function(e,t,i){"use strict";var n=i(2265),r=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,i){var n,l={},h=null,c=null;for(n in void 0!==i&&(h=""+i),void 0!==t.key&&(h=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,n)&&!o.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:r,type:e,key:h,ref:c,props:l,_owner:a.current}}t.jsx=l,t.jsxs=l},7437:function(e,t,i){"use strict";e.exports=i(622)},2744:function(e,t){var i;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=s(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var i in e)n.call(e,i)&&e[i]&&(t=s(t,i));return t}(i)))}return e}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0!==(i=(function(){return r}).apply(t,[]))&&(e.exports=i)}()}},function(e){e.O(0,[971,938,744],function(){return e(e.s=9232)}),_N_E=e.O()}]);