(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9232:function(e,t,n){Promise.resolve().then(n.bind(n,2756))},2756:function(e,t,n){"use strict";let i;n.r(t),n.d(t,{default:function(){return w}});var r=n(7437),s=n(2265),o=n(2744),a=n.n(o),l=n(7547),c=n.n(l);let h=e=>({nativePointer:e,pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,id:e.pointerId||-1}),u=(e,t)=>t?Math.sqrt((t.clientX-e.clientX)**2+(t.clientY-e.clientY)**2):0,d=(e,t)=>t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e,m=()=>i||(i=document.createElementNS("http://www.w3.org/2000/svg","svg")),p=()=>m().createSVGMatrix();class v{onPointerStart(e){if(2===this.currentPointers.length)return;let t=h(e);e.preventDefault(),this.currentPointers.push(t),this.currentPointers.length>1&&(this.isMultiplePointer=!0),this.element.setPointerCapture(e.pointerId),this.element.addEventListener("pointermove",this.onPointerMove),this.element.addEventListener("pointerleave",this.onPointerUp),this.element.addEventListener("pointercancel",this.onPointerCancel),this.element.dispatchEvent(new Event("pinchingStarted",{bubbles:!0}))}onPointerMove(e){let t=[...this.currentPointers],n=h(e),i=this.currentPointers.findIndex(e=>e.id===n.id);if(-1===i)return!1;this.currentPointers[i]=n;let r=this.scale<=1&&1===this.currentPointers.length;return this._onPointerMove(t,this.currentPointers,r)}onPointerUp(e){let t=h(e),n=this.currentPointers.findIndex(e=>e.id===t.id);if(-1===n)return;this.currentPointers.splice(n,1);let i=!!this.doubleTapTimeout;if(0!==this.currentPointers.length)return;let r=this.element.getBoundingClientRect(),s=Math.abs(this.y);if(i){let e=this.scale<1.1;this.setTransform({x:e?-(r.width/2):0,y:e?-(r.height/2):0,scale:e?2:1,animate:!0})}else if(1===this.scale&&(s-30)/100>=1)this.element.dispatchEvent(new Event("close",{bubbles:!0}));else if(this.scale<.5)this.element.dispatchEvent(new Event("close",{bubbles:!0}));else if(this.scale<1.1)this.setTransform({x:0,y:0,scale:1,animate:!0});else{let e=this.transformElement.getBoundingClientRect(),t=this.imageWidth*this.scale,n=this.imageHeight*this.scale,i=(e.width-t)/2,s=(e.height-n)/2,o={x:e.left+i,y:e.top+s},a={x:e.width+e.left-i,y:e.height+e.top-s},l=this.x,c=this.y;t<r.width?l=-((e.width-r.width)/2):o.x>0?l-=o.x:a.x<r.width&&(l+=r.width-a.x),n<r.height?c=-((e.height-r.height)/2):o.y>0?c-=o.y:a.y<r.height&&(c+=r.height-a.y),this.setTransform({x:l,y:c,animate:!0})}this.scale>1?this.element.style.touchAction="none":this.element.style.touchAction="pan-x",this.isMultiplePointer||this.doubleTapTimeout||(this.doubleTapTimeout=setTimeout(()=>{this.doubleTapTimeout=null},300)),this.isMultiplePointer=!1,this.element.releasePointerCapture(e.pointerId),this.element.removeEventListener("pointermove",this.onPointerMove),this.element.removeEventListener("pointerleave",this.onPointerUp),this.element.removeEventListener("pointercancel",this.onPointerCancel),this.element.dispatchEvent(new Event("pinchingEnded",{bubbles:!0}))}onPointerCancel(){this.element.removeEventListener("pointermove",this.onPointerMove),this.element.removeEventListener("pointerleave",this.onPointerUp),this.element.removeEventListener("pointercancel",this.onPointerCancel),this.element.dispatchEvent(new Event("pinchingEnded",{bubbles:!0})),this.currentPointers=[],this.setTransform({x:0,y:0,scale:1})}get x(){return this._transform.e}get y(){return this._transform.f}get scale(){return this._transform.a}setTransform(e){let{x:t=this.x,y:n=this.y,scale:i=this.scale,animate:r=!1}=e;if(!(i<.1)&&(i!==this.scale||t!==this.x||n!==this.y)){if(this._transform.e=t,this._transform.f=n,this._transform.d=i,this._transform.a=i,r?this.transformElement.style.setProperty("transition-duration","0.2s"):this.transformElement.style.setProperty("transition-duration","0s"),this.transformElement.style.setProperty("transform","translate(".concat(this.x,"px, ").concat(this.y,"px) scale(").concat(this.scale,") translateZ(1000px)")),1===i){let e=new Event("changeOpacity",{bubbles:!0});e.opacity=Math.min(Math.max(1-(Math.abs(n)-30)/100*.5,.5),1),this.element.dispatchEvent(e)}if(i<1){let e=new Event("changeOpacity",{bubbles:!0});e.opacity=Math.max(i,.5),this.element.dispatchEvent(e)}}}_onPointerMove(e,t,n){let i=this.transformElement.getBoundingClientRect(),r=d(e[0],e[1]),s=d(t[0],t[1]),o=r.clientX-i.left,a=r.clientY-i.top,l=u(e[0],e[1]),c=u(t[0],t[1]),h=n?0:s.clientX-r.clientX,m=s.clientY-r.clientY,v=p().translate(h,m).translate(o,a).translate(this.x,this.y).scale(l?c/l:1).translate(-o,-a).scale(this.scale);this.setTransform({x:v.e,y:v.f,scale:v.a})}constructor(e){var t,n;this.element=e,this.currentPointers=[],this.isMultiplePointer=!1,this.doubleTapTimeout=null,this.naturalWidth=null===(t=e.querySelector("img"))||void 0===t?void 0:t.naturalWidth,this.naturalHeight=null===(n=e.querySelector("img"))||void 0===n?void 0:n.naturalHeight;let i=this.element.getBoundingClientRect(),r=this.naturalWidth/this.naturalHeight;this.imageWidth=Math.round(i.height*r),this.imageHeight=i.height,this.imageWidth>i.width&&(this.imageWidth=i.width,this.imageHeight=Math.round(i.width/r)),this._transform=p(),this.onPointerStart=this.onPointerStart.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.element.addEventListener("pointerdown",this.onPointerStart),this.transformElement=this.element.children[0]}}var g=n(9520),f=n.n(g),y=(0,s.memo)(e=>{let{image:t,active:n}=e,[i,o]=(0,s.useState)(!1),a=(0,s.useRef)(null),l=(0,s.useRef)();return(0,s.useEffect)(()=>{var e;a.current&&n&&i&&window.PointerEvent&&(null===(e=window.matchMedia("(pointer: coarse)"))||void 0===e?void 0:e.matches)&&!l.current&&(l.current=new v(a.current))},[a.current,n,i]),(0,r.jsx)("div",{ref:a,className:f().container,children:(0,r.jsx)("div",{className:f().pinchZoom,children:(0,r.jsx)("img",{src:t,className:f().image,loading:"lazy",onLoad:()=>o(!0),alt:"image"})})})});let _=e=>e.preventDefault();var E=e=>{let{index:t=0,images:n=[],onClose:i=()=>{}}=e,o=(0,s.useRef)(t),[l,h]=(0,s.useState)(o.current);console.log({imageIndex:l});let[u,d]=(0,s.useState)(1),[m,p]=(0,s.useState)(!1),v=(0,s.useRef)(!1),g=(0,s.useRef)(n.map(()=>(0,s.createRef)())),f=(0,s.useRef)(null),E=e=>{o.current!==e&&(o.current=e,h(e))},b=()=>{o.current-1==-1?E(n.length-1):E(o.current-1)},x=()=>{o.current+1===n.length?E(0):E(o.current+1)},P=()=>i(),w=()=>p(!0),I=()=>p(!1),j=e=>d(e.opacity),L=()=>i();(0,s.useEffect)(()=>{if(!f.current)return;let e=f.current,t=new IntersectionObserver(e=>{v.current||e.forEach(e=>{if(1===e.intersectionRatio){var t;E(parseInt(null!==(t=e.target.dataset.index)&&void 0!==t?t:"",10))}})},{root:e,rootMargin:"1px 0px",threshold:[.05,1]});return e.addEventListener("pinchingStarted",w),e.addEventListener("pinchingEnded",I),e.addEventListener("changeOpacity",j),e.addEventListener("close",L),g.current.forEach(e=>{let{current:n}=e;n&&t.observe(n)}),()=>{e.removeEventListener("pinchingStarted",w),e.removeEventListener("pinchingEnded",I),e.removeEventListener("changeOpacity",j),e.removeEventListener("close",L),g.current.forEach(e=>{let{current:n}=e;n&&t.unobserve(n)})}},[f.current]);let C=e=>{37===e.keyCode?b():39===e.keyCode?x():27===e.keyCode&&P()},S=()=>{v.current=!0;let e=()=>{var t;if(null===(t=g.current)||void 0===t?void 0:t[l].current){let e=g.current[o.current].current;e&&e.scrollIntoView({block:"nearest",inline:"start"})}v.current=!1,window.removeEventListener("resize",e)};window.addEventListener("resize",e)};return(0,s.useEffect)(()=>(document.addEventListener("gesturestart",_),document.addEventListener("keydown",C),window.addEventListener("orientationchange",S),()=>{document.removeEventListener("gesturestart",_),document.removeEventListener("keydown",C),window.removeEventListener("orientationchange",S)}),[]),(0,s.useEffect)(()=>{var e;if(!(null===(e=g.current)||void 0===e?void 0:e[l].current))return;let t=g.current[l].current;t&&t.scrollIntoView({block:"nearest",inline:"start"})},[l]),(0,r.jsxs)("div",{className:c().container,style:{backgroundColor:"rgba(45,47,59,".concat(u,")")},"data-testid":"ImageGallery",children:[(0,r.jsxs)("div",{className:a()(c().interface,c().topBar,{[c().disablePointerEvents]:m}),children:[(0,r.jsx)("span",{className:c().counter,children:"".concat(l+1," ").concat(n.length)}),(0,r.jsx)("button",{type:"button",onClick:P,children:"close"})]}),(0,r.jsx)("div",{className:c().component,children:(0,r.jsxs)("div",{className:a()(c().bigImageArea,{[c().oneImage]:1===n.length}),children:[n.length>1&&(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)("button",{type:"button",className:a()(c().navigationButton,c().interface,c().previous,{[c().disablePointerEvents]:m}),onClick:b,children:"PREV"}),(0,r.jsx)("button",{type:"button",className:a()(c().navigationButton,c().interface,c().next,{[c().disablePointerEvents]:m}),onClick:x,children:"NEXT"})]}),(0,r.jsx)("div",{className:c().swipeContainer,ref:f,children:n.map((e,t)=>(0,r.jsx)("div",{className:c().slide,ref:g.current[t],"data-index":t,children:(0,r.jsx)(y,{image:e,active:l===t})},"slide-".concat(e)))})]})})]})},b=n(345),x=n.n(b);let P=["./image02.jpg","./image03.jpg","./image04.jpg","./image05.jpg","./image06.jpg"];function w(){let[e,t]=(0,s.useState)(!1),[n,i]=(0,s.useState)(0);return(0,r.jsxs)("main",{children:[(0,r.jsxs)("div",{className:x().buttons,children:[(0,r.jsx)("button",{type:"button",onClick:()=>t(!0),children:"Open Gallery"}),(0,r.jsx)("button",{type:"button",onClick:()=>{i(2),t(!0)},children:"Open Gallery with third image"})]}),e&&(0,r.jsx)(E,{index:n,images:P,onClose:()=>t(!1)})]})}},7547:function(e){e.exports={container:"ImageGallery_container__Zzs8W",fadeInOpacity:"ImageGallery_fadeInOpacity__d4O_8",interface:"ImageGallery_interface__5ky37",disablePointerEvents:"ImageGallery_disablePointerEvents__71KLZ",topBar:"ImageGallery_topBar__v_uFk",counter:"ImageGallery_counter__CpkhY",navigationButton:"ImageGallery_navigationButton__f_Tjj",next:"ImageGallery_next__j1Dya",previous:"ImageGallery_previous__Npdoi",component:"ImageGallery_component__fxJfZ",bigImageArea:"ImageGallery_bigImageArea__9yuLt",oneImage:"ImageGallery_oneImage__nwzWt",swipeContainer:"ImageGallery_swipeContainer__CRzun",slide:"ImageGallery_slide__7IHBq"}},9520:function(e){e.exports={container:"Slide_container__N3exd",pinchZoom:"Slide_pinchZoom__0iSHV",image:"Slide_image__A2bxI"}},345:function(e){e.exports={buttons:"page_buttons__qe66w"}},622:function(e,t,n){"use strict";var i=n(2265),r=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var i,l={},c=null,h=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)s.call(t,i)&&!a.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===l[i]&&(l[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:h,props:l,_owner:o.current}}t.jsx=l,t.jsxs=l},7437:function(e,t,n){"use strict";e.exports=n(622)},2744:function(e,t){var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=s(t,n));return t}(n)))}return e}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0!==(n=(function(){return r}).apply(t,[]))&&(e.exports=n)}()}},function(e){e.O(0,[971,938,744],function(){return e(e.s=9232)}),_N_E=e.O()}]);