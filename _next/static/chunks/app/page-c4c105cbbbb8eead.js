(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9232:function(e,t,n){Promise.resolve().then(n.bind(n,8367))},8367:function(e,t,n){"use strict";let i;n.r(t),n.d(t,{default:function(){return k}});var r=n(7437);n(5357);var s=n(2265),a=n(2744),o=n.n(a),l=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",style:{width:"36px",height:"36px"},children:(0,r.jsx)("path",{fill:"white",d:"M10,20A10,10,0,1,0,0,10,10,10,0,0,0,10,20ZM11.289,4.3,12.711,5.7l-4.3,4.344L12.7,14.289,11.3,15.711,5.586,10.063Z"})}),c=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",style:{width:"36px",height:"36px"},children:(0,r.jsx)("path",{fill:"white",d:"M10,20A10,10,0,1,0,0,10,10,10,0,0,0,10,20ZM8.711,4.3l5.7,5.766L8.7,15.711,7.3,14.289l4.289-4.242L7.289,5.7Z"})}),h=n(7547),d=n.n(h);let u=e=>({nativePointer:e,pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,id:e.pointerId||-1}),m=(e,t)=>t?Math.sqrt((t.clientX-e.clientX)**2+(t.clientY-e.clientY)**2):0,p=(e,t)=>t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e,g=()=>i||(i=document.createElementNS("http://www.w3.org/2000/svg","svg")),v=()=>g().createSVGMatrix();class f{reset(){this.setTransform({x:0,y:0,scale:1})}onPointerStart(e){if(2===this.currentPointers.length)return;let t=u(e);e.preventDefault(),this.currentPointers.push(t),this.currentPointers.length>1&&(this.isMultiplePointer=!0),this.element.setPointerCapture(e.pointerId),this.element.addEventListener("pointermove",this.onPointerMove),this.element.addEventListener("pointerleave",this.onPointerUp),this.element.addEventListener("pointercancel",this.onPointerCancel),this.element.dispatchEvent(new Event("pinchingStarted",{bubbles:!0}))}onPointerMove(e){let t=[...this.currentPointers],n=u(e),i=this.currentPointers.findIndex(e=>e.id===n.id);if(-1===i)return!1;this.currentPointers[i]=n;let r=this.scale<=1&&1===this.currentPointers.length;return this.pointerDidMove=!0,this._onPointerMove(t,this.currentPointers,r)}onPointerUp(e){let t=u(e),n=this.currentPointers.findIndex(e=>e.id===t.id);if(-1===n)return;this.currentPointers.splice(n,1);let i=!!this.doubleTapTimeout;if(0!==this.currentPointers.length)return;let r=this.element.getBoundingClientRect(),s=Math.abs(this.y);if(i){let e=this.scale<1.1;this.setTransform({x:e?-(r.width/2):0,y:e?-(r.height/2):0,scale:e?2:1,animate:!0})}else if(1===this.scale&&(s-30)/100>=1)this.element.dispatchEvent(new Event("close",{bubbles:!0}));else if(this.scale<.5)this.element.dispatchEvent(new Event("close",{bubbles:!0}));else if(this.scale<1.1)this.setTransform({x:0,y:0,scale:1,animate:!0});else if(!0===this.pointerDidMove){let e=this.transformElement.getBoundingClientRect(),t=this.imageWidth*this.scale,n=this.imageHeight*this.scale,i=(e.width-t)/2,s=(e.height-n)/2,a={top:e.top+s,left:e.left+i,right:e.width+e.left-i,bottom:e.height+e.top-s},o=this.x,l=this.y;t<r.width?o=-((e.width-r.width)/2):a.left>0?o=-i:a.right<r.width&&(o=-(i+t-r.width)),n<r.height?l=-((e.height-r.height)/2):a.top>0?l=-s:a.bottom<r.height&&(l=-(s+n-r.height)),this.setTransform({x:o,y:l,animate:!0})}this.scale>1?this.element.style.touchAction="none":this.element.style.touchAction="pan-x",this.isMultiplePointer||this.doubleTapTimeout||(this.doubleTapTimeout=setTimeout(()=>{this.doubleTapTimeout=null},300)),this.isMultiplePointer=!1,this.pointerDidMove=!1,this.element.releasePointerCapture(e.pointerId),this.element.removeEventListener("pointermove",this.onPointerMove),this.element.removeEventListener("pointerleave",this.onPointerUp),this.element.removeEventListener("pointercancel",this.onPointerCancel),this.element.dispatchEvent(new Event("pinchingEnded",{bubbles:!0}))}onPointerCancel(){this.element.removeEventListener("pointermove",this.onPointerMove),this.element.removeEventListener("pointerleave",this.onPointerUp),this.element.removeEventListener("pointercancel",this.onPointerCancel),this.element.dispatchEvent(new Event("pinchingEnded",{bubbles:!0})),this.currentPointers=[],this.setTransform({x:0,y:0,scale:1})}get x(){return this._transform.e}get y(){return this._transform.f}get scale(){return this._transform.a}setTransform(e){let{x:t=this.x,y:n=this.y,scale:i=this.scale,animate:r=!1}=e;if(!(i<.1)&&(i!==this.scale||t!==this.x||n!==this.y)){if(this._transform.e=t,this._transform.f=n,this._transform.d=i,this._transform.a=i,r?this.transformElement.style.setProperty("transition-duration","0.2s"):this.transformElement.style.setProperty("transition-duration","0s"),this.transformElement.style.setProperty("transform","translate(".concat(this.x,"px, ").concat(this.y,"px) scale(").concat(this.scale,") translateZ(1000px)")),1===i){let e=new Event("changeOpacity",{bubbles:!0});e.opacity=Math.min(Math.max(1-(Math.abs(n)-30)/100*.5,.5),1),this.element.dispatchEvent(e)}if(i<1){let e=new Event("changeOpacity",{bubbles:!0});e.opacity=Math.max(i,.5),this.element.dispatchEvent(e)}}}_onPointerMove(e,t,n){let i=this.transformElement.getBoundingClientRect(),r=p(e[0],e[1]),s=p(t[0],t[1]),a=r.clientX-i.left,o=r.clientY-i.top,l=m(e[0],e[1]),c=m(t[0],t[1]),h=n?0:s.clientX-r.clientX,d=s.clientY-r.clientY,u=v().translate(h,d).translate(a,o).translate(this.x,this.y).scale(l?c/l:1).translate(-a,-o).scale(this.scale);this.setTransform({x:u.e,y:u.f,scale:u.a})}constructor(e){var t,n;this.element=e,this.currentPointers=[],this.isMultiplePointer=!1,this.doubleTapTimeout=null,this.naturalWidth=null===(t=e.querySelector("img"))||void 0===t?void 0:t.naturalWidth,this.naturalHeight=null===(n=e.querySelector("img"))||void 0===n?void 0:n.naturalHeight;let i=this.element.getBoundingClientRect(),r=this.naturalWidth/this.naturalHeight;this.imageWidth=Math.round(i.height*r),this.imageHeight=i.height,this.imageWidth>i.width&&(this.imageWidth=i.width,this.imageHeight=Math.round(i.width/r)),this._transform=v(),this.onPointerStart=this.onPointerStart.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.element.addEventListener("pointerdown",this.onPointerStart),this.transformElement=this.element.children[0],this.pointerDidMove=!1}}var w=n(9520),_=n.n(w),x=(0,s.memo)(e=>{let{image:t,active:n}=e,[i,a]=(0,s.useState)(!1),o=(0,s.useRef)(null),l=(0,s.useRef)();(0,s.useEffect)(()=>{var e;o.current&&n&&i&&window.PointerEvent&&(null===(e=window.matchMedia("(pointer: coarse)"))||void 0===e?void 0:e.matches)&&!l.current&&(l.current=new f(o.current))},[o.current,n,i]),(0,s.useEffect)(()=>{l.current&&!n&&l.current.reset()},[n]);let c=(0,s.useCallback)(()=>{l.current&&l.current.reset()},[]);return(0,s.useEffect)(()=>(window.addEventListener("orientationchange",c),()=>{window.removeEventListener("orientationchange",c)}),[c]),(0,r.jsx)("div",{ref:o,className:_().container,children:(0,r.jsx)("div",{className:_().pinchZoom,children:(0,r.jsx)("img",{loading:"lazy",src:t.src,className:_().image,onLoad:()=>a(!0),alt:t.alt})})})});let y=e=>e.preventDefault();var b=e=>{let{index:t=0,images:n,onClose:i,onImageChange:a}=e,[h,u]=(0,s.useState)(t),[m,p]=(0,s.useState)(t),[g,v]=(0,s.useState)(1),[f,w]=(0,s.useState)(!1),_=(0,s.useRef)(!1),b=(0,s.useRef)(n.map(()=>(0,s.createRef)())),E=(0,s.useRef)(null),P=(0,s.useCallback)(()=>{h-1>-1&&p(h-1)},[h,p]),j=(0,s.useCallback)(()=>{h+1<n.length&&p(h+1)},[h,n.length,p]),k=()=>w(!0),L=()=>w(!1),C=e=>v(e.opacity),S=(0,s.useCallback)(()=>i(),[i]);(0,s.useEffect)(()=>{if(!E.current)return;let e=E.current,t=new IntersectionObserver(e=>{_.current||e.forEach(e=>{let{target:t,intersectionRatio:n}=e;if(0!==n){if(1===n){let e=t.dataset.index,n=parseInt(null!=e?e:"",10);p(n),u(n),a(n)}if(n>.55&&n<1){let e=t.dataset.index,n=parseInt(null!=e?e:"",10);p(-1),u(n),a(n)}}})},{root:e,rootMargin:"1px 0px",threshold:[.55,1]});return e.addEventListener("pinchingStarted",k),e.addEventListener("pinchingEnded",L),e.addEventListener("changeOpacity",C),e.addEventListener("close",S),b.current.forEach(e=>{let{current:n}=e;n&&t.observe(n)}),()=>{e.removeEventListener("pinchingStarted",k),e.removeEventListener("pinchingEnded",L),e.removeEventListener("changeOpacity",C),e.removeEventListener("close",S),b.current.forEach(e=>{let{current:n}=e;n&&t.unobserve(n)})}},[S,a]);let I=(0,s.useCallback)(e=>{"ArrowLeft"===e.key?P():"ArrowRight"===e.key?j():"Escape"===e.key&&S()},[S,j,P]),N=(0,s.useCallback)(()=>{_.current=!0;let e=()=>{var t;if(null===(t=b.current)||void 0===t?void 0:t[h].current){let e=b.current[h].current;e&&e.scrollIntoView({block:"nearest",inline:"start"})}_.current=!1,window.removeEventListener("resize",e)};window.addEventListener("resize",e)},[h]);return(0,s.useEffect)(()=>(document.addEventListener("gesturestart",y),document.addEventListener("keydown",I),window.addEventListener("orientationchange",N),()=>{document.removeEventListener("gesturestart",y),document.removeEventListener("keydown",I),window.removeEventListener("orientationchange",N)}),[h,I,N]),(0,s.useEffect)(()=>{var e,t,n;if(!(null===(t=b.current)||void 0===t?void 0:null===(e=t[m])||void 0===e?void 0:e.current))return;let i=null===(n=b.current[m])||void 0===n?void 0:n.current;i&&i.scrollIntoView({block:"nearest",inline:"start"})},[m]),(0,r.jsxs)("div",{className:d().container,style:{backgroundColor:"rgba(45,47,59,".concat(g,")")},children:[(0,r.jsxs)("div",{className:o()(d().interface,{[d().disablePointerEvents]:f}),children:[(0,r.jsxs)("div",{className:d().topBar,children:[(0,r.jsx)("span",{className:d().counter,children:"".concat(h+1," / ").concat(n.length)}),(0,r.jsx)("button",{type:"button",className:d().closeButton,onClick:S,children:"close"})]}),(0,r.jsxs)("div",{className:d().navigationButtons,children:[(0,r.jsx)("div",{className:o()(d().navigationButton,{[d().disable]:h-1==-1,[d().hide]:1===n.length}),onClick:P,children:(0,r.jsx)(l,{})}),(0,r.jsx)("div",{className:o()(d().navigationButton,{[d().disable]:h+1===n.length,[d().hide]:1===n.length}),onClick:j,children:(0,r.jsx)(c,{})})]}),(0,r.jsx)("div",{})]}),(0,r.jsx)("div",{className:d().swipeContainer,ref:E,children:n.map((e,t)=>(0,r.jsx)("div",{className:d().slide,ref:b.current[t],"data-index":t,children:(0,r.jsx)(x,{image:e,active:m===t})},e.src))})]})},E=n(345),P=n.n(E);let j=[{src:"./image02.jpg",alt:"Lake District National Park, Buttermere, https://www.lakedistrict.gov.uk/learning/freephotos"},{src:"./image03.jpg",alt:"Lake District National Park, Buttermere, https://www.lakedistrict.gov.uk/learning/freephotos"},{src:"./image04.jpg",alt:"Lake District National Park, Buttermere, https://www.lakedistrict.gov.uk/learning/freephotos"},{src:"./image05.jpg",alt:"Lake District National Park, Buttermere, https://www.lakedistrict.gov.uk/learning/freephotos"},{src:"./image06.jpg",alt:"Lake District National Park, Buttermere, https://www.lakedistrict.gov.uk/learning/freephotos"}];function k(){let[e,t]=(0,s.useState)(!1),[n,i]=(0,s.useState)(-1);return(0,r.jsx)("main",{className:P().container,children:(0,r.jsxs)("div",{className:P().wrapper,children:[(0,r.jsx)("h1",{children:"Image Gallery"}),(0,r.jsxs)("div",{className:P().buttons,children:[(0,r.jsx)("button",{className:P().button,type:"button",onClick:()=>t(!0),children:"Open Gallery"}),-1!==n&&(0,r.jsxs)("p",{className:P().imageIndex,children:["Last displayed image index: ",n]})]}),e&&(0,r.jsx)(b,{index:0,images:j,onClose:()=>t(!1),onImageChange:e=>i(e)}),(0,r.jsx)("h3",{children:"Highlights:"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Optimized for desktop and mobile (try all the gestures you know from your mobile device)"}),(0,r.jsx)("li",{children:"No external dependencies (small file size)"}),(0,r.jsx)("li",{children:"Uses modern JS/CSS (very performant)"})]}),(0,r.jsx)("h3",{children:"Features:"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"swipe-left/swipe-right to navigate"}),(0,r.jsx)("li",{children:"pinch-zoom"}),(0,r.jsx)("li",{children:"swipe-up/swipe-down to close"}),(0,r.jsx)("li",{children:"pinch-small to close"}),(0,r.jsx)("li",{children:"double-tab to zoom"}),(0,r.jsx)("li",{children:"key navigation"})]}),(0,r.jsxs)("footer",{className:P().footer,children:[(0,r.jsx)("span",{children:"\xa9 2024. Check sourcecode on "}),(0,r.jsx)("a",{href:"https://github.com/aronwoost/image-gallery",target:"blank",children:"Github"}),(0,r.jsx)("span",{children:". "}),(0,r.jsx)("a",{href:"https://www.lakedistrict.gov.uk/learning/freephotos",target:"blank",children:"Image Copyright"}),(0,r.jsx)("span",{children:"."})]})]})})}},5357:function(){},7547:function(e){e.exports={container:"ImageGallery_container__Zzs8W",fadeInOpacity:"ImageGallery_fadeInOpacity__d4O_8",interface:"ImageGallery_interface__5ky37",disablePointerEvents:"ImageGallery_disablePointerEvents__71KLZ",topBar:"ImageGallery_topBar__v_uFk",counter:"ImageGallery_counter__CpkhY",closeButton:"ImageGallery_closeButton__Ax49A",navigationButtons:"ImageGallery_navigationButtons__bM0qS",navigationButton:"ImageGallery_navigationButton__f_Tjj",disable:"ImageGallery_disable__acADe",hide:"ImageGallery_hide__UsV0S",swipeContainer:"ImageGallery_swipeContainer__CRzun",slide:"ImageGallery_slide__7IHBq"}},9520:function(e){e.exports={container:"Slide_container__N3exd",pinchZoom:"Slide_pinchZoom__0iSHV",image:"Slide_image__A2bxI"}},345:function(e){e.exports={container:"page_container__aoG4z",wrapper:"page_wrapper__xDBJh",buttons:"page_buttons__qe66w",button:"page_button__vnlhW",imageIndex:"page_imageIndex__G_uEU",footer:"page_footer__sHKi3"}},622:function(e,t,n){"use strict";var i=n(2265),r=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var i,l={},c=null,h=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)s.call(t,i)&&!o.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===l[i]&&(l[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:h,props:l,_owner:a.current}}t.jsx=l,t.jsxs=l},7437:function(e,t,n){"use strict";e.exports=n(622)},2744:function(e,t){var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=s(t,n));return t}(n)))}return e}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0!==(n=(function(){return r}).apply(t,[]))&&(e.exports=n)}()}},function(e){e.O(0,[971,938,744],function(){return e(e.s=9232)}),_N_E=e.O()}]);